{
  "$schema": "https://aka.ms/codetour-schema",
  "title": "ç¯å¢ƒåˆå§‹åŒ–æµç¨‹",
  "steps": [
    {
      "file": "shell.cc",
      "description": "#### åˆ›å»º Context æ—¶ï¼Œåˆ›å»ºç¯å¢ƒ",
      "line": 59
    },
    {
      "file": "src/api.cc",
      "description": "#### åˆ›å»º Envï¼ŒEnv è°ƒç”¨ V8 åˆå§‹åŒ–",
      "line": 2109
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### æ–°å»º Genesisï¼Œå®ƒåˆå§‹åŒ–å†…éƒ¨å¯¹è±¡",
      "line": 338
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### è°ƒç”¨ V8 åˆå§‹åŒ–\n\nV8::HasBeenSetup é˜²æ­¢ V8 è¢«å¤šæ¬¡åˆå§‹åŒ–ã€‚ä¸æ‰§è¡Œ V8::Initialize åç»­çš„æ“ä½œ",
      "line": 1279
    },
    {
      "file": "src/v8.cc",
      "description": "# åˆå§‹åŒ–æ—¥å¿—è®¾ç½®",
      "line": 54
    },
    {
      "file": "src/v8.cc",
      "description": "#### åˆå§‹åŒ– OS å¹³å°ï¼Œä¾‹å¦‚ Linux ä»…ä»…æ˜¯è®¾ç½®éšæœºæ•°ç§å­ã€‚",
      "line": 61
    },
    {
      "file": "src/v8.cc",
      "description": "#### x86 çš„ CPU æ— éœ€è®¾ç½®",
      "line": 58
    },
    {
      "file": "src/v8.cc",
      "description": "#### é‡è¦ï¼šè®¾ç½®å †ç®¡ç†",
      "line": 65
    },
    {
      "file": "src/builtins.cc",
      "description": "#### Builtins::Setup() æ–¹æ³•åˆå§‹åŒ– V8 å¼•æ“çš„æ‰€æœ‰å†…ç½®å‡½æ•°å’Œä»£ç å¯¹è±¡\r\n\r\nå®ƒåˆ›å»ºäº†æ‰€æœ‰å¿…éœ€çš„å†…ç½®å‡½æ•°ä»£ç å¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°ç»„æ“ä½œã€ç±»å‹è½¬æ¢ã€ç®—æœ¯è¿ç®—ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚\r\n\r\n",
      "line": 619
    },
    {
      "file": "src/v8.cc",
      "description": "#### Bootstrapper åˆå§‹åŒ–",
      "line": 71
    },
    {
      "file": "src/debug.cc",
      "description": "#### è°ƒè¯•ä¿¡æ¯åˆå§‹åŒ–",
      "line": 514
    },
    {
      "file": "src/stub-cache.cc",
      "description": "#### StubCache åˆå§‹åŒ–ï¼Œä»…ä»…åˆ›å»ºä¸ªä¸´æ—¶ HandleScope\r\n\r\nStubCache ä½œç”¨æ˜¯ç®¡ç†å±æ€§è®¿é—®çš„æœºå™¨ç æ¡© (IC stubs)ï¼›Init é˜¶æ®µåªæ˜¯æ¸…ç©ºè¡¨ï¼ŒçœŸæ­£çš„ stub è¦åœ¨è¿è¡Œç”¨æˆ·ä»£ç æ—¶æ‰äº§ç”Ÿã€‚\r\n\r\n\r\nå½“ StubCache::Initialize() æ‰§è¡Œ Clear() æ—¶ï¼Œæœ‰å¯èƒ½ä¼šï¼š\r\n\r\néå† cache é‡Œçš„æ¡ç›®ï¼ŒæŠŠæ—§çš„ Code å¯¹è±¡å¼•ç”¨æ¸…ç†æ‰ï¼›\r\næˆ–è€…åœ¨å°†æ¥æ‰©å±•æ—¶åˆ›å»ºæ–°çš„å¥æŸ„æ¥è®¿é—®å¯¹è±¡ã€‚\r\nå³ä½¿åœ¨è¿™é‡Œ Clear() å¤§æ¦‚ç‡åªæ˜¯æŠŠå‡ ä¸ªå†…éƒ¨å¯¹è±¡å¥æŸ„ç½® undefined æˆ– null_valueï¼Œè¿™äº›æ›¿æ¢æœ¬èº«å¾ˆå¯èƒ½ä¹Ÿéœ€è¦ Handle<Object> åŒ…è£…ã€‚\r\n\r\nğŸ‘‰ å¦‚æœä½ ä¸æ‰“å¼€ scopeï¼Œå°±ä¼šæŠŠè¿™äº›å¥æŸ„æŒ‚åˆ°ä¸Šå±‚è°ƒç”¨è€…çš„å¥æŸ„è¡¨é‡Œï¼Œæ±¡æŸ“åˆ«äººçš„ä½œç”¨åŸŸã€‚\r\nğŸ‘‰ æœ‰äº† HandleScope scope;ï¼Œæ‰€æœ‰åœ¨ Clear() å†…éƒ¨çŸ­æš‚ç”¨çš„å¥æŸ„ä¼šåœ¨å‡½æ•°é€€å‡ºæ—¶ ç»Ÿä¸€é”€æ¯ï¼Œè€Œä¸æ˜¯æ³„æ¼åˆ°ä¸Šå±‚ã€‚\r\n\r\n",
      "line": 44
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### ç»‘å®šå†…éƒ¨å¯¹è±¡ã€å‡½æ•°\r\n\r\nåˆ›å»º Context çº§åˆ«çš„å…¨å±€å¯¹è±¡ï¼ˆGlobal Object / Global Proxyï¼‰åŠå…¶åŸå‹é“¾ï¼Œå¹¶æŠŠå®ƒæŒ‚åˆ° GC Roots ä¸Šï¼Œæˆä¸º JS ä¸–ç•Œçš„èµ·ç‚¹ã€‚",
      "line": 1286
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### InstallNatives = åœ¨å¼•æ“åˆå§‹åŒ–æ—¶æŠŠ ECMAScript å†…å»ºåº“é“ºä¸Šå»",
      "line": 1287
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### é‡æ–°å»ç»™æ‰€æœ‰ å‡½æ•°å¯¹è±¡çš„ prototype å±æ€§æè¿°ç¬¦ æ‰“æ ‡è®°",
      "line": 1289
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### åœ¨å¼•æ“å†…éƒ¨å»ºä¸€å¼ è¡¨ï¼ŒæŠŠè¿™äº›ç‰¹æ®Šå†…ç½®å‡½æ•°ç™»è®°åˆ°è¡¨é‡Œï¼Œæ ‡æ³¨å®ƒä»¬çš„â€œç‰¹æ®Šå±æ€§/è¡Œä¸ºä½â€ã€‚\r\n\r\nECMAScript è§„èŒƒé‡Œï¼Œæœ‰ä¸€äº›ã€Œç‰¹æ®Šå‡½æ•°å¯¹è±¡ã€çš„ `[[Class]]`ã€`[[HasInstance]]`ã€å±æ€§å¸ƒç½®ç­‰ï¼Œä¸æ™®é€šå‡½æ•°ä¸ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š\r\n- `Function.prototype.bind`\r\n- `Function.prototype.call` / `apply`\r\n- `AsyncFunction`\r\n- `GeneratorFunction`\r\n- å†…å»ºçš„ `eval`\r\n- å†…å»º constructors (Array, Object, RegExp...)  \r\nè¿™äº›â€œå‡½æ•°â€ä¸æ˜¯æ™®é€šçš„ JS Function å®è§‚æ‹·è´ï¼Œè€Œæ˜¯æœ‰é¢å¤– runtime è¡Œä¸º/å†…éƒ¨è°ƒç”¨çº¦å®šã€‚  \r\n\r\n### ä½œç”¨\r\n- `BuildSpecialFunctionTable()` = åœ¨å¼•æ“å†…éƒ¨å»ºä¸€å¼ è¡¨ï¼ŒæŠŠè¿™äº›ç‰¹æ®Šå†…ç½®å‡½æ•°**ç™»è®°åˆ°è¡¨é‡Œ**ï¼Œæ ‡æ³¨å®ƒä»¬çš„â€œç‰¹æ®Šå±æ€§/è¡Œä¸ºä½â€ã€‚  \r\n- VM åœ¨åç»­ inline cacheã€è°ƒç”¨ä¼˜åŒ–ã€æ‰“å° debug ä¿¡æ¯æ—¶ï¼Œå¯ä»¥å¿«é€Ÿçœ‹è¡¨åŒºåˆ†å‡ºå®ƒä»¬ã€‚  \r\næ¯”å¦‚ï¼š  \r\n  - åˆ¤æ–­ â€œè¿™æ˜¯æ™®é€šç”¨æˆ·å‡½æ•°â€ or â€œè¿™æ˜¯å†…ç½®ç»‘å®šå‡½æ•°â€ or â€œè¿™æ˜¯ generator functionâ€ã€‚  \r\n  - è¿›å…¥è°ƒç”¨æ—¶åˆ†æ´¾ä¸åŒçš„ç”Ÿæˆå™¨é€»è¾‘ã€‚  \r\n\r\nğŸ‘‰ æ€»ç»“ä¸€å¥è¯ï¼š**å»ºç«‹å“ˆå¸Œè¡¨/æ•°ç»„ï¼Œè®°å½•æ‰€æœ‰éœ€è¦â€œç‰¹æ®Šå¤„ç†â€çš„å‡½æ•°å¯¹è±¡ï¼Œä¾¿äºåç»­ JIT æˆ–è¿è¡Œæ—¶åŒºåˆ†å’Œä¼˜åŒ–**ã€‚",
      "line": 1290
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### ConfigureGlobalObject çš„ä½œç”¨ï¼Œå°±æ˜¯æŠŠ embedder æä¾›çš„ ObjectTemplate åº”ç”¨åˆ° JS å…¨å±€å¯¹è±¡ï¼ˆGlobalObjectï¼‰ä¸Šï¼Œç»™å…¨å±€å®‰è£…ç”¨æˆ·å®šåˆ¶çš„å±æ€§å’Œæ–¹æ³•ã€‚",
      "line": 1291
    },
    {
      "file": "src/bootstrapper.cc",
      "description": "#### æ‰©å±•æ˜¯ V8 æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œè®©å®¿ä¸»/å¼•æ“åœ¨å…¨å±€å¯¹è±¡é‡Œæ³¨å…¥è‡ªå®šä¹‰å‡½æ•°ã€å¯¹è±¡ã€APIã€‚",
      "line": 1293
    }
  ]
}